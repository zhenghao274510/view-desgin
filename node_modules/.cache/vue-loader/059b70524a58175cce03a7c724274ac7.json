{"remainingRequest":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\src\\views\\login\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\src\\views\\login\\login.vue","mtime":1594201434167},{"path":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {siteTitle} from \"@/config/config\";\nexport default {\n    name: \"login\",\n    data() {\n        return {\n            siteTitle: siteTitle,\n            loading: false,\n            isLogin: true, // 是否登陆模式\n            loginJson: {\n                userName: 'admin',\n                passWord: '123456',\n                isSave: true\n            },\n            registerJson: {\n                mail: '',\n                userName: '',\n                passWord: '',\n                passWord1: ''\n            },\n            loginCheck: {\n                userName: [\n                    { required: true, message: '请输入用户名', trigger: 'blur' }\n                ],\n                passWord: [\n                    { required: true, message: '请输入密码', trigger: 'blur' }\n                ]\n            },\n            registerCheck: {\n                /*mail: [\n                    { required: true, message: '请输入邮箱', trigger: 'blur' },\n                    { type: 'email', message: '邮箱格式不正确', trigger: 'blur' }\n                ],\n                userName: [\n                    { required: true, message: '请输入用户名', trigger: 'blur' }\n                ],\n                passWord: [\n                    { required: true, message: '请输入密码', trigger: 'blur' }\n                ]*/\n            }\n        }\n    },\n    created() {\n    },\n    mounted() {\n        this.bgInit()\n    },\n    methods: {\n        // 登陆\n        login (name) {\n            this.$refs[name].validate((valid) => {\n                if (valid) {\n                    this.loading = true\n                    this.$store.dispatch('user/login', this.loginJson).then(() => {\n                        this.loading = false\n                        this.$Message.success('正常登录成功')\n                        this.$router.push({\n                            name: this.$indexPage\n                        })\n                    }).catch(() => {\n                        this.loading = false\n                    })\n                }\n            })\n        },\n        // 背景canvas动画\n        bgInit() {\n            var width, height, largeHeader, canvas, ctx, circles, target, animateHeader = true;\n            // sta\n            var lastTime = 0;\n            var vendors = ['ms', 'moz', 'webkit', 'o'];\n            for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n                window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n                window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame']\n                    || window[vendors[x] + 'CancelRequestAnimationFrame'];\n            }\n\n            if (!window.requestAnimationFrame) {\n                window.requestAnimationFrame = function (callback, element) {\n                    var currTime = new Date().getTime();\n                    var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n                    var id = window.setTimeout(function () {\n                            callback(currTime + timeToCall);\n                        },\n                        timeToCall);\n                    lastTime = currTime + timeToCall;\n                    return id;\n                };\n            }\n            if (!window.cancelAnimationFrame) {\n                window.cancelAnimationFrame = function (id) {\n                    clearTimeout(id);\n                };\n            }\n            // end\n\n            // Main\n            initHeader();\n            addListeners();\n\n            function initHeader() {\n                width = window.innerWidth;\n                height = window.innerHeight;\n                target = {x: 0, y: height};\n\n                largeHeader = document.getElementById('large-header');\n                largeHeader.style.height = height + 'px';\n\n                canvas = document.getElementById('demo-canvas');\n                canvas.width = width;\n                canvas.height = height;\n                ctx = canvas.getContext('2d');\n\n                // create particles\n                circles = [];\n                for (var x = 0; x < width * 0.5; x++) {\n                    var c = new Circle();\n                    circles.push(c);\n                }\n                animate();\n            }\n\n            // Event handling\n            function addListeners() {\n                window.addEventListener('scroll', scrollCheck);\n                window.addEventListener('resize', resize);\n            }\n\n            function scrollCheck() {\n                if (document.body.scrollTop > height) animateHeader = false;\n                else animateHeader = true;\n            }\n\n            function resize() {\n                width = window.innerWidth;\n                height = window.innerHeight;\n                largeHeader.style.height = height + 'px';\n                canvas.width = width;\n                canvas.height = height;\n            }\n\n            function animate() {\n                if (animateHeader) {\n                    ctx.clearRect(0, 0, width, height);\n                    for (var i in circles) {\n                        circles[i].draw();\n                    }\n                }\n                requestAnimationFrame(animate);\n            }\n\n            // Canvas manipulation\n            function Circle() {\n                var _this = this;\n\n                // constructor\n                (function () {\n                    _this.pos = {};\n                    init();\n                    // console.log(_this);\n                })();\n\n                function init() {\n                    _this.pos.x = Math.random() * width;\n                    _this.pos.y = height + Math.random() * 100;\n                    _this.alpha = 0.1 + Math.random() * 0.3;\n                    _this.scale = 0.1 + Math.random() * 0.3;\n                    _this.velocity = Math.random();\n                }\n\n                this.draw = function () {\n                    if (_this.alpha <= 0) {\n                        init();\n                    }\n                    _this.pos.y -= _this.velocity;\n                    _this.alpha -= 0.0005;\n                    ctx.beginPath();\n                    ctx.arc(_this.pos.x, _this.pos.y, _this.scale * 10, 0, 2 * Math.PI, false);\n                    ctx.fillStyle = 'rgba(255,255,255,' + _this.alpha + ')';\n                    ctx.fill();\n                };\n            }\n        }\n    },\n    watch: {},\n    filters: {}\n}\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views/login","sourcesContent":["/**\r\n*   @description 登录页面\r\n*   @author Xiaohui Zeng\r\n*   @date 2019/10/5\r\n*/\r\n<template>\r\n    <div class=\"login-page\">\r\n        <div class=\"container demo-2\">\r\n            <div class=\"content\">\r\n                <div id=\"large-header\" class=\"large-header\">\r\n                    <canvas id=\"demo-canvas\"></canvas>\r\n                    <div class=\"login-div flexC\">\r\n                        <div class=\"logo flexC\">\r\n                            <img src=\"../../assets/main/logo-dark.png\" alt=\"\">\r\n                            <span>{{siteTitle}}</span>\r\n                        </div>\r\n                        <Form v-if=\"isLogin\" ref=\"formValidate1\" class=\"login-from\" :model=\"loginJson\" :rules=\"loginCheck\">\r\n                            <FormItem prop=\"userName\">\r\n                                <Input prefix=\"ios-person-outline\" type=\"text\" v-model=\"loginJson.userName\" autofocus clearable placeholder=\"请输入用户名\" />\r\n                            </FormItem>\r\n                            <FormItem prop=\"passWord\">\r\n                                <Input prefix=\"ios-lock-outline\" type=\"password\" v-model=\"loginJson.passWord\" clearable placeholder=\"请输入密码\" />\r\n                            </FormItem>\r\n                            <FormItem prop=\"isSave\" class=\"isSave flexR\">\r\n                                <Checkbox v-model=\"loginJson.isSave\">自动登录</Checkbox>\r\n                                <span class=\"blueText\">忘记密码</span>\r\n                            </FormItem>\r\n                            <FormItem prop=\"isSave\" class=\"isSave other-Login flexR\">\r\n                                <span>\r\n                                    <span>其它登录方式</span>\r\n                                    <img src=\"../../assets/login/weixin.svg\" alt=\"\">\r\n                                    <img src=\"../../assets/login/qq.svg\" alt=\"\">\r\n                                    <img src=\"../../assets/login/weibo.svg\" alt=\"\">\r\n                                </span>\r\n                                <span class=\"blueText\" @click=\"isLogin=false\">注册账户</span>\r\n                            </FormItem>\r\n                            <FormItem>\r\n                                <Button type=\"primary\" long :loading=\"loading\" @click=\"login('formValidate1')\">\r\n                                    <span v-if=\"!loading\">登录</span>\r\n                                    <span v-else>请稍后...</span>\r\n                                </Button>\r\n                            </FormItem>\r\n                        </Form>\r\n                        <Form v-else ref=\"formValidate2\" class=\"login-from\" :model=\"registerJson\" :rules=\"registerCheck\">\r\n                            <FormItem prop=\"mail\">\r\n                                <Input prefix=\"ios-mail-outline\" type=\"text\" v-model=\"registerJson.mail\" autofocus clearable placeholder=\"请输入邮箱\" />\r\n                            </FormItem>\r\n                            <FormItem prop=\"userName\">\r\n                                <Input prefix=\"ios-person-outline\" type=\"text\" v-model=\"registerJson.userName\" clearable placeholder=\"请输入用户名\" />\r\n                            </FormItem>\r\n                            <FormItem prop=\"passWord\">\r\n                                <Input prefix=\"ios-lock-outline\" type=\"password\" v-model=\"registerJson.passWord\" clearable placeholder=\"至少6位密码，区分大小写\" />\r\n                            </FormItem>\r\n                            <FormItem prop=\"passWord1\">\r\n                                <Input prefix=\"ios-lock-outline\" type=\"password\" v-model=\"registerJson.passWord1\" clearable placeholder=\"请再次输入密码\" />\r\n                            </FormItem>\r\n                           <!-- <FormItem prop=\"isSave\" class=\"isSave flexR\">\r\n                                <Checkbox v-model=\"registerJson.isSave\">自动登录</Checkbox>\r\n                                <span class=\"blueText\">忘记密码</span>\r\n                            </FormItem>-->\r\n\r\n                            <FormItem>\r\n                                <Button type=\"primary\" long :loading=\"loading\" @click=\"login('formValidate2')\">\r\n                                    <span v-if=\"!loading\">注册</span>\r\n                                    <span v-else>请稍后...</span>\r\n                                </Button>\r\n                            </FormItem>\r\n                            <FormItem prop=\"isSave\" class=\"flexR\">\r\n                                <span class=\"blueText\" @click=\"isLogin=true\">使用已有账户登录</span>\r\n                            </FormItem>\r\n                        </Form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {siteTitle} from \"@/config/config\";\r\n    export default {\r\n        name: \"login\",\r\n        data() {\r\n            return {\r\n                siteTitle: siteTitle,\r\n                loading: false,\r\n                isLogin: true, // 是否登陆模式\r\n                loginJson: {\r\n                    userName: 'admin',\r\n                    passWord: '123456',\r\n                    isSave: true\r\n                },\r\n                registerJson: {\r\n                    mail: '',\r\n                    userName: '',\r\n                    passWord: '',\r\n                    passWord1: ''\r\n                },\r\n                loginCheck: {\r\n                    userName: [\r\n                        { required: true, message: '请输入用户名', trigger: 'blur' }\r\n                    ],\r\n                    passWord: [\r\n                        { required: true, message: '请输入密码', trigger: 'blur' }\r\n                    ]\r\n                },\r\n                registerCheck: {\r\n                    /*mail: [\r\n                        { required: true, message: '请输入邮箱', trigger: 'blur' },\r\n                        { type: 'email', message: '邮箱格式不正确', trigger: 'blur' }\r\n                    ],\r\n                    userName: [\r\n                        { required: true, message: '请输入用户名', trigger: 'blur' }\r\n                    ],\r\n                    passWord: [\r\n                        { required: true, message: '请输入密码', trigger: 'blur' }\r\n                    ]*/\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n        },\r\n        mounted() {\r\n            this.bgInit()\r\n        },\r\n        methods: {\r\n            // 登陆\r\n            login (name) {\r\n                this.$refs[name].validate((valid) => {\r\n                    if (valid) {\r\n                        this.loading = true\r\n                        this.$store.dispatch('user/login', this.loginJson).then(() => {\r\n                            this.loading = false\r\n                            this.$Message.success('正常登录成功')\r\n                            this.$router.push({\r\n                                name: this.$indexPage\r\n                            })\r\n                        }).catch(() => {\r\n                            this.loading = false\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            // 背景canvas动画\r\n            bgInit() {\r\n                var width, height, largeHeader, canvas, ctx, circles, target, animateHeader = true;\r\n                // sta\r\n                var lastTime = 0;\r\n                var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n                for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n                    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n                    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame']\r\n                        || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n                }\r\n\r\n                if (!window.requestAnimationFrame) {\r\n                    window.requestAnimationFrame = function (callback, element) {\r\n                        var currTime = new Date().getTime();\r\n                        var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n                        var id = window.setTimeout(function () {\r\n                                callback(currTime + timeToCall);\r\n                            },\r\n                            timeToCall);\r\n                        lastTime = currTime + timeToCall;\r\n                        return id;\r\n                    };\r\n                }\r\n                if (!window.cancelAnimationFrame) {\r\n                    window.cancelAnimationFrame = function (id) {\r\n                        clearTimeout(id);\r\n                    };\r\n                }\r\n                // end\r\n\r\n                // Main\r\n                initHeader();\r\n                addListeners();\r\n\r\n                function initHeader() {\r\n                    width = window.innerWidth;\r\n                    height = window.innerHeight;\r\n                    target = {x: 0, y: height};\r\n\r\n                    largeHeader = document.getElementById('large-header');\r\n                    largeHeader.style.height = height + 'px';\r\n\r\n                    canvas = document.getElementById('demo-canvas');\r\n                    canvas.width = width;\r\n                    canvas.height = height;\r\n                    ctx = canvas.getContext('2d');\r\n\r\n                    // create particles\r\n                    circles = [];\r\n                    for (var x = 0; x < width * 0.5; x++) {\r\n                        var c = new Circle();\r\n                        circles.push(c);\r\n                    }\r\n                    animate();\r\n                }\r\n\r\n                // Event handling\r\n                function addListeners() {\r\n                    window.addEventListener('scroll', scrollCheck);\r\n                    window.addEventListener('resize', resize);\r\n                }\r\n\r\n                function scrollCheck() {\r\n                    if (document.body.scrollTop > height) animateHeader = false;\r\n                    else animateHeader = true;\r\n                }\r\n\r\n                function resize() {\r\n                    width = window.innerWidth;\r\n                    height = window.innerHeight;\r\n                    largeHeader.style.height = height + 'px';\r\n                    canvas.width = width;\r\n                    canvas.height = height;\r\n                }\r\n\r\n                function animate() {\r\n                    if (animateHeader) {\r\n                        ctx.clearRect(0, 0, width, height);\r\n                        for (var i in circles) {\r\n                            circles[i].draw();\r\n                        }\r\n                    }\r\n                    requestAnimationFrame(animate);\r\n                }\r\n\r\n                // Canvas manipulation\r\n                function Circle() {\r\n                    var _this = this;\r\n\r\n                    // constructor\r\n                    (function () {\r\n                        _this.pos = {};\r\n                        init();\r\n                        // console.log(_this);\r\n                    })();\r\n\r\n                    function init() {\r\n                        _this.pos.x = Math.random() * width;\r\n                        _this.pos.y = height + Math.random() * 100;\r\n                        _this.alpha = 0.1 + Math.random() * 0.3;\r\n                        _this.scale = 0.1 + Math.random() * 0.3;\r\n                        _this.velocity = Math.random();\r\n                    }\r\n\r\n                    this.draw = function () {\r\n                        if (_this.alpha <= 0) {\r\n                            init();\r\n                        }\r\n                        _this.pos.y -= _this.velocity;\r\n                        _this.alpha -= 0.0005;\r\n                        ctx.beginPath();\r\n                        ctx.arc(_this.pos.x, _this.pos.y, _this.scale * 10, 0, 2 * Math.PI, false);\r\n                        ctx.fillStyle = 'rgba(255,255,255,' + _this.alpha + ')';\r\n                        ctx.fill();\r\n                    };\r\n                }\r\n            }\r\n        },\r\n        watch: {},\r\n        filters: {}\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n    .login-page {\r\n        /* Header */\r\n\r\n        .large-header {\r\n            position: relative;\r\n            width: 100%;\r\n            background: #333;\r\n            overflow: hidden;\r\n            background-size: cover;\r\n            background-position: center center;\r\n            z-index: 1;\r\n        }\r\n\r\n        .demo-2 .large-header {\r\n            background-image: url('../../assets/login/login-bg-1.jpg');\r\n            background-position: center bottom;\r\n        }\r\n\r\n        .login-div {\r\n            position: absolute;\r\n            margin-top: -220px;\r\n            padding: 30px;\r\n            text-align: center;\r\n            top: 50%;\r\n            left: 60%;\r\n            background-color: white;\r\n            border-radius: 5px;\r\n            width: 410px;\r\n            &>.logo{\r\n                img{\r\n                    height: 90px;\r\n                }\r\n                span{\r\n                    font-size: 14px;\r\n                    margin-bottom: 20px;\r\n                }\r\n            }\r\n            &>.login-from{\r\n                .isSave{\r\n                    width: 100%;\r\n                    .ivu-form-item-content{\r\n                        width: 100%;\r\n                        display: inline-flex;\r\n                        flex-direction: row;\r\n                        justify-content: space-between;\r\n                    }\r\n                }\r\n                .other-Login{\r\n                    .ivu-form-item-content{\r\n                        &>span{\r\n                            img{\r\n                                width: 24px;\r\n                                margin-left: 16px;\r\n                                cursor: pointer;\r\n                                vertical-align: middle;\r\n                                opacity: .7;\r\n                                transition: all .2s ease-in-out;\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /*.demo-2 ::before {\r\n            content: '';\r\n            width: 20vw;\r\n            height: 20vw;\r\n            min-width: 3.5em;\r\n            min-height: 3.5em;\r\n            background: url(../../assets/login/deco.svg) no-repeat center center;\r\n            background-size: cover;\r\n            position: absolute;\r\n            top: 50%;\r\n            left: 20%;\r\n            border-radius: 50%;\r\n            z-index: -1;\r\n            -webkit-transform: translate3d(-50%,-50%,0);\r\n            transform: translate3d(-50%,-50%,0);\r\n        }*/\r\n    }\r\n</style>\r\n"]}]}