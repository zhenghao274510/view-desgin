{"remainingRequest":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\src\\components\\main\\main.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\src\\components\\main\\main.vue","mtime":1594201433990},{"path":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\lixindom\\2020年\\selfMake\\Hui-Admin-Pro一个使用iView的前端框架\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import \"main\";\n",{"version":3,"sources":["main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoeA","file":"main.vue","sourceRoot":"src/components/main","sourcesContent":["<template>\r\n    <div class=\"layout-page\">\r\n        <Layout class=\"layout-div\">\r\n            <Sider\r\n                ref=\"side1\"\r\n                hide-trigger\r\n                collapsible\r\n                :collapsed-width=\"78\"\r\n                :width=\"256\"\r\n                v-model=\"isCollapsed\"\r\n                :class=\"themeType==='light'?'themeLight':'themeDark'\"\r\n            >\r\n                <!--:class=\"isCollapsed?'collapsed_left':''\"-->\r\n                <div class=\"logo\" :class=\"headMaxWidth?'headMaxWidth':''\">\r\n                    <img v-if=\"!isCollapsed && headMaxWidth\" :src=\"headMaxWidthLogoImg\" alt=\"\">\r\n                    <img v-if=\"!isCollapsed && !headMaxWidth\" :src=\"logoImg\" alt=\"\">\r\n                    <img v-if=\"isCollapsed\" src=\"../../assets/main/logo-small.png\" alt=\"\">\r\n                </div>\r\n                <Menu\r\n                    :active-name=\"activeName\"\r\n                    :theme=\"themeType\"\r\n                    width=\"auto\"\r\n                    :class=\"menuitemClasses\"\r\n                    :open-names=\"openNames\"\r\n                    accordion\r\n                    ref=\"side_menu\"\r\n                    @on-select=\"menuNav\"\r\n                    @on-open-change=\"open\"\r\n                >\r\n                    <Submenu v-for=\"(item,index) in routersArr\" :key=\"index\" v-if=\"!isCollapsed && !item.meta.hide && !item.meta.singlePage\"\r\n                             :name=\"item.name\">\r\n                        <template slot=\"title\" v-if=\"!isCollapsed\">\r\n                            <Icon :type=\"item.meta.icon\"/>\r\n                            <span class=\"titlespan\">{{item.meta.title}}</span>\r\n                        </template>\r\n                        <MenuItem v-if=\"!isCollapsed && !it.meta.hide\" v-for=\"it in item.children\" :key=\"it.name\" :name=\"it.name\">\r\n                            <span>{{it.meta.title}}</span>\r\n                        </MenuItem>\r\n                    </Submenu>\r\n                    <!--如果只有一个子路由-->\r\n                    <MenuItem v-else-if=\"!isCollapsed && !item.meta.hide && item.meta.singlePage\"\r\n                              v-for=\"it in item.children\" :key=\"index\" class=\"ivu-menu-submenu\"\r\n                              :class=\"{ 'liActive': $route.name === it.name}\" style=\"padding: 0!important;\"\r\n                              :name=\"it.name\">\r\n                        <div class=\"ivu-menu-submenu-title\">\r\n                            <Icon :type=\"item.meta.icon\"/>\r\n                            <span style=\"margin-left: 10px\">{{it.meta.title}}</span>\r\n                        </div>\r\n                    </MenuItem>\r\n                    <Dropdown v-for=\"(item,index) in routersArr\" :key=\"index\" v-if=\"isCollapsed && !item.meta.hide\"\r\n                              class=\"menuSmall\" @on-click=\"dropdownNav\">\r\n                            <span :class=\"item.name === $route.meta.fuName?'active':''\">\r\n                                <Icon :type=\"item.meta.icon\"/>\r\n                            </span>\r\n                        <DropdownMenu slot=\"list\">\r\n                            <template v-for=\"it in item.children\">\r\n                                <DropdownItem v-if=\"!it.meta.hide\" :key=\"it.name\" :name=\"it.name\" :selected=\"it.name === activeName\">{{it.meta.title}}\r\n                                </DropdownItem>\r\n                            </template>\r\n                        </DropdownMenu>\r\n                    </Dropdown>\r\n                </Menu>\r\n            </Sider>\r\n            <Layout>\r\n                <!--头部-->\r\n                <Header class=\"header flexR\">\r\n                    <div class=\"header_left flexR\">\r\n                        <span>\r\n                            <Icon\r\n                                @click.native=\"collapsedSider\"\r\n                                :class=\"rotateIcon\"\r\n                                type=\"md-menu\"\r\n                                size=\"24\"></Icon>\r\n                        </span>\r\n                        <span @click=\"refresh()\">\r\n                            <Icon type=\"ios-refresh\" size=\"24\"/>\r\n                        </span>\r\n                        <span>\r\n                            <Breadcrumb>\r\n                            <BreadcrumbItem>首页</BreadcrumbItem>\r\n                            <BreadcrumbItem>{{$route.meta.fuTitle}}</BreadcrumbItem>\r\n                            <BreadcrumbItem v-if=\"$route.meta.title !== $route.meta.fuTitle\">{{$route.meta.title}}</BreadcrumbItem>\r\n                        </Breadcrumb>\r\n                        </span>\r\n                    </div>\r\n                    <!--头部右边-->\r\n                    <div class=\"header_right flexR\">\r\n                        <span>\r\n                            <Icon :type=\"isMaxWindow?'md-contract':'md-expand'\" @click=\"maxWindow\" size=\"18\"/>\r\n                        </span>\r\n                        <span>\r\n                            <Dropdown trigger=\"click\">\r\n                                <Badge :count=\"3\">\r\n                                    <Icon type=\"ios-notifications-outline\" size=\"20\"/>\r\n                                </Badge>\r\n                                <DropdownMenu slot=\"list\">\r\n                                    <message></message>\r\n                                </DropdownMenu>\r\n                            </Dropdown>\r\n                       </span>\r\n                        <span>\r\n                            <Dropdown @on-click=\"personalSettings\">\r\n                            <a href=\"javascript:void(0)\" style=\"color: #515A6E;\">\r\n                                <img src=\"https://www.zengxiaohui.com/vueImg/avatar1.jpg\" alt=\"\" class=\"ivu-avatar ivu-avatar-small\"\r\n                                     style=\"margin-right: 5px\">\r\n                                {{$store.getters.userData.userName}}\r\n                            </a>\r\n                            <DropdownMenu slot=\"list\">\r\n                                <DropdownItem name=\"grzx\">个人中心</DropdownItem>\r\n                                <DropdownItem name=\"sz\">设置</DropdownItem>\r\n                                <DropdownItem name=\"logout\" divided>退出登陆</DropdownItem>\r\n                            </DropdownMenu>\r\n                        </Dropdown>\r\n                        </span>\r\n                        <span @click=\"optionDrawer = true\">\r\n                           <Icon type=\"md-more\" size=\"20\"/>\r\n                        </span>\r\n                    </div>\r\n                </Header>\r\n                <!--多页标签-->\r\n                <div v-if=\"isTabsShow\" class=\"tabsNav flexR\">\r\n                    <div class=\"xiala pointer\" v-if=\"tabSwitch\" @click=\"tabLeft\">\r\n                        <Icon type=\"ios-arrow-back\" size=\"16\"/>\r\n                    </div>\r\n                    <div class=\"left flexR\" id=\"tabsNav\">\r\n                        <div class=\"flexR\" id=\"tabsDiv\" :style=\"{transform:transform}\">\r\n                            <div class=\"pointer flexR\" v-for=\"(item,index) in $store.getters.routerArr\" :key=\"item+index\">\r\n                                <span :class=\"activeName === item.name?'active':''\" @click=\"tabNav(item.name)\" >{{item.meta.title}}</span>\r\n                                <Icon v-if=\"item.name !== $indexPage\" type=\"ios-close\" size=\"24\" @click=\"tabNavClose(item,index)\"/>\r\n                                <!--<Dropdown trigger=\"contextMenu\" style=\"margin-left: 5px\" @on-click=\"tabRightClick\" @on-visible-change=\"tabRightStatus($event,item.name)\">\r\n                                    <a href=\"javascript:void(0)\">\r\n                                        <Icon type=\"ios-close\" size=\"24\" @click=\"tabNavClose(item,index)\"/>\r\n                                    </a>\r\n                                    <DropdownMenu slot=\"list\" v-if=\"item.meta.status\">\r\n                                        <DropdownItem :name=\"item.name+'/qt'\">关闭其他</DropdownItem>\r\n                                        <DropdownItem :name=\"item.name+'/left'\">关闭左侧</DropdownItem>\r\n                                        <DropdownItem :name=\"item.name+'/right'\">关闭右侧</DropdownItem>\r\n                                        <DropdownItem :name=\"item.name+'/qb'\">全部关闭</DropdownItem>\r\n                                    </DropdownMenu>\r\n                                </Dropdown>-->\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class=\"xiala pointer\" v-if=\"tabSwitch\" @click=\"tabRight\">\r\n                        <Icon type=\"ios-arrow-forward\" size=\"16\"/>\r\n                    </div>\r\n                    <div class=\"right\">\r\n                        <Dropdown style=\"margin-left: 5px;\" @on-click=\"tabRightClick\">\r\n                            <div class=\"xiala pointer\">\r\n                                <Icon type=\"ios-arrow-down\"/>\r\n                            </div>\r\n                            <DropdownMenu slot=\"list\">\r\n                                <DropdownItem name=\"qt\">关闭其他</DropdownItem>\r\n                                <!--                                <DropdownItem name=\"left\">关闭左侧</DropdownItem>-->\r\n                                <!--                                <DropdownItem name=\"right\">关闭右侧</DropdownItem>-->\r\n                                <DropdownItem name=\"qb\">全部关闭</DropdownItem>\r\n                            </DropdownMenu>\r\n                        </Dropdown>\r\n                    </div>\r\n                </div>\r\n                <!--内容区-->\r\n                <Content id=\"main_content\"\r\n                    :style=\"{height: (!isTabsShow?'calc(100vh - 64px)':'calc(100vh - 108px)'), margin: (!isTabsShow ? '24px 0 24px 24px':'0 0 24px 24px') }\"\r\n                    class=\"main_content flexC\">\r\n                    <router-view v-if=\"isRouterViewShow\"></router-view>\r\n                    <Footer></Footer>\r\n                </Content>\r\n                <Drawer v-model=\"optionDrawer\" class=\"optionDrawer\">\r\n                    <Divider slot=\"header\" class=\"header\">主题风格设置</Divider>\r\n                    <div class=\"flexR imgs\">\r\n                        <Tooltip content=\"时尚酷黑\" placement=\"top\" transfer :class=\"themeType === 'dark'?'active':''\">\r\n                            <img src=\"../../assets/main/nav-theme-dark.svg\" alt=\"\" @click=\"themeSwitch(0)\">\r\n                        </Tooltip>\r\n                        <Tooltip content=\"极简雅白\" placement=\"top\" transfer :class=\"themeType === 'light'?'active':''\">\r\n                            <img src=\"../../assets/main/nav-theme-light.svg\" alt=\"\" @click=\"themeSwitch(1)\">\r\n                        </Tooltip>\r\n                    </div>\r\n                    <Divider class=\"otherDiv\">其他设置</Divider>\r\n                    <div class=\"kaiguan flexR\">\r\n                        <span>开启多页签</span>\r\n                        <i-switch v-model=\"isTabsShow\" size=\"small\"/>\r\n                    </div>\r\n                    <div class=\"kaiguan flexR\">\r\n                        <span>顶栏通顶</span>\r\n                        <i-switch v-model=\"headMaxWidth\" size=\"small\"/>\r\n                    </div>\r\n                </Drawer>\r\n            </Layout>\r\n        </Layout>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import message from \"../message/message\"\r\n    import darkImg from '@/assets/main/logo-dark.png'\r\n    import lightImg from '@/assets/main/logo-light.png'\r\n    import {themeData} from '@/config/config'\r\n    import Footer from \"@/components/footer/footer\"\r\n    import { mapGetters } from 'vuex'\r\n    export default {\r\n        name: \"main-page\",\r\n        components: {message,Footer},\r\n        computed: {\r\n            ...mapGetters([\r\n                'routes',\r\n            ]),\r\n            // 获取vuex 路由数据 用户tag多页签\r\n            getRouterArrVuex() {\r\n                return this.$store.getters.routerArr\r\n            },\r\n            // 收缩的图标\r\n            rotateIcon() {\r\n                return [\r\n                    'menu-icon',\r\n                    this.isCollapsed ? 'rotate-icon' : ''\r\n                ];\r\n            },\r\n            // 导航收缩\r\n            menuitemClasses() {\r\n                return [\r\n                    'menu-item',\r\n                    this.isCollapsed ? 'collapsed-menu' : ''\r\n                ]\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                activeName: \"\", // 子导航选中的name\r\n                isCollapsed: false, // 是否收缩\r\n                isMaxWindow: false, // 是否最大化窗口\r\n                routersArr: [], // 路由数据\r\n                openNames: [], // 导航打开的父栏目\r\n                transform: 0, // 导航左右方向移动距离\r\n                tabSwitch: false, // 是否显示左右切换图标\r\n                userData: {}, // 登录用户数据\r\n                optionDrawer: false, // 是否显示配置抽屉\r\n                themeType: themeData.themeType ? themeData.themeType : 'dark', // 主题风格\r\n                logoImg: themeData.themeType === 'dark' ? lightImg : darkImg, // 主题logo图片\r\n                isTabsShow: themeData.isTabsShow, // 是否显示多页签\r\n                headMaxWidthLogoImg: darkImg, // 栏目是否通顶logo图片\r\n                headMaxWidth: themeData.headMaxWidth, // 栏目是否通顶（最大宽度）\r\n                isRouterViewShow: true, // 控制router-view的隐藏与展示\r\n            }\r\n        },\r\n        created() {\r\n            this.setRouterArr()\r\n        },\r\n        mounted() {\r\n            // 如果没有权限 回到默认首页 防止错误地址程序崩溃 跳转非法路由\r\n            if (this.$route.meta.hide) {\r\n                this.$router.push({\r\n                        name: this.$indexPage\r\n                    }\r\n                )\r\n            }\r\n            // 页面刷新后 保存打开的路由数据到本地存储\r\n            window.addEventListener('unload', this.saveState)\r\n            this.activeName = this.$route.name\r\n            this.openNames = []\r\n            this.openNames.push(this.$route.meta.fuName)\r\n            this.$nextTick(() => {\r\n                // 重新渲染导航\r\n                if (this.$refs.side_menu) {\r\n                    this.$refs.side_menu.updateOpened()\r\n                    // this.$refs.side_menu.updateActiveName()\r\n                }\r\n            })\r\n        },\r\n        methods: {\r\n            // 收缩切换\r\n            collapsedSider() {\r\n                this.$refs.side1.toggleCollapse();\r\n                this.$nextTick(() => {\r\n                    // 重新渲染导航\r\n                    this.$refs.side_menu.updateOpened()\r\n                    this.$refs.side_menu.updateActiveName()\r\n                })\r\n            },\r\n            // 处理路由数据 包含路由角色权限\r\n            setRouterArr() {\r\n                // 获取用户数据\r\n                this.userData = this.$store.getters.userData\r\n                this.routersArr = JSON.parse(JSON.stringify(this.routes))\r\n            },\r\n            // 导航跳转\r\n            menuNav(name) {\r\n                this.routerPush(name)\r\n            },\r\n            // 父级栏目展开收缩事件\r\n            open(name) {\r\n                this.openNames = ['' + name + '']\r\n            },\r\n            // 下拉菜单跳转\r\n            dropdownNav(name) {\r\n                this.routerPush(name)\r\n            },\r\n            // tab切换跳转\r\n            tabNav(name) {\r\n                this.routerPush(name)\r\n            },\r\n            // 路由跳转\r\n            routerPush(name) {\r\n                this.$router.push({\r\n                    name: name\r\n                })\r\n                this.$nextTick(() => {\r\n                    let w = document.getElementById('tabsDiv').offsetWidth\r\n                    let zw = document.getElementById('tabsNav').offsetWidth\r\n                    if (w > zw) {\r\n                        this.tabSwitch = true\r\n                    }\r\n                })\r\n            },\r\n            // tab关闭\r\n            tabNavClose(item, index) {\r\n                let arr = this.$store.getters.routerArr\r\n                // 判断是否是首页\r\n                if (item.name !== this.$indexPage) {\r\n                    this.$store.dispatch('tagsView/delRouter', index)\r\n                    if (index !== 0) {\r\n                        this.$router.push({\r\n                            name: arr[index - 1].name\r\n                        })\r\n                    }\r\n                }\r\n                this.$nextTick(() => {\r\n                    let w = document.getElementById('tabsDiv').offsetWidth\r\n                    let zw = document.getElementById('tabsNav').offsetWidth\r\n                    if (w < zw) {\r\n                        this.tabSwitch = false\r\n                    }\r\n                })\r\n            },\r\n            // tab最右侧下拉框右键选中\r\n            tabRightClick(type) {\r\n                let arr = this.$store.getters.routerArr\r\n                this.tabSwitch = false\r\n                switch (type) {\r\n                    case 'qt':\r\n                        for (let i = arr.length - 1; i > -1; i--) {\r\n                            if (arr[i].name !== this.activeName) {\r\n                                this.$store.dispatch('tagsView/delRouter', i)\r\n                            }\r\n                        }\r\n                        break\r\n                    case 'qb':\r\n                        if(arr.length === 1) {\r\n                            if(this.$route.name !== this.$indexPage) {\r\n                                for (let i = arr.length - 1; i > -1; i--) {\r\n                                    this.$store.dispatch('tagsView/delRouter', i)\r\n                                }\r\n                            }\r\n                        } else {\r\n                            for (let i = arr.length - 1; i > -1; i--) {\r\n                                this.$store.dispatch('tagsView/delRouter', i)\r\n                            }\r\n                        }\r\n                        break\r\n                }\r\n            },\r\n            // 窗口最大化\r\n            maxWindow() {\r\n                if (this.isMaxWindow) {\r\n                    if (document.exitFullscreen) {\r\n                        document.exitFullscreen();\r\n                    } else if (document.mozCancelFullScreen) {\r\n                        document.mozCancelFullScreen();\r\n                    } else if (document.webkitExitFullscreen) {\r\n                        document.webkitExitFullscreen();\r\n                    }\r\n                    this.isMaxWindow = false\r\n                } else {\r\n                    let element = document.documentElement\r\n                    if (element.requestFullscreen) {\r\n                        element.requestFullscreen();\r\n                    } else if (element.mozRequestFullScreen) {\r\n                        element.mozRequestFullScreen();\r\n                    } else if (element.webkitRequestFullscreen) {\r\n                        element.webkitRequestFullscreen();\r\n                    } else if (element.msRequestFullscreen) {\r\n                        element.msRequestFullscreen();\r\n                    }\r\n                    this.isMaxWindow = true\r\n                }\r\n            },\r\n            // 向左切换\r\n            tabLeft() {\r\n                this.transform = 'translateX(0px)'\r\n            },\r\n            // 向右切换\r\n            tabRight() {\r\n                let w = document.getElementById('tabsDiv').offsetWidth\r\n                let zw = document.getElementById('tabsNav').offsetWidth\r\n                if (w > zw) {\r\n                    let s = -(w - zw)\r\n                    this.transform = 'translateX(' + s + 'px)'\r\n                }\r\n            },\r\n            // 页面刷新后 将vuex路由数据存储到本地\r\n            saveState() {\r\n                let arr = this.$store.getters.routerArr\r\n                let arr1 = []\r\n                for (let v of arr) {\r\n                    let item = {\r\n                        fullPath: v.fullPath,\r\n                        meta: v.meta,\r\n                        name: v.name,\r\n                        path: v.path\r\n                    }\r\n                    arr1.push(item)\r\n                }\r\n                localStorage.setItem('dataRouter', JSON.stringify(arr1))\r\n            },\r\n            // 主题切换\r\n            themeSwitch(type) {\r\n                if (type === 0) {\r\n                    this.themeType = 'dark'\r\n                    this.logoImg = lightImg\r\n                } else {\r\n                    this.themeType = 'light'\r\n                    this.logoImg = darkImg\r\n                }\r\n            },\r\n            // 页面刷新\r\n            refresh() {\r\n                // 先隐藏\r\n                this.isRouterViewShow = false\r\n                // $nextTick() 将回调延迟到下次 DOM 更新循环之后执行\r\n                this.$nextTick(() => {\r\n                    this.isRouterViewShow = true\r\n                })\r\n            },\r\n            // 个人设置功能\r\n            async personalSettings(name) {\r\n                if (name === 'logout') {\r\n                    await this.$store.dispatch('user/logout')\r\n                    this.$router.push({\r\n                        name: this.$loginPage\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            // 监听路由跳转\r\n            $route() {\r\n                this.activeName = this.$route.name\r\n                this.openNames = []\r\n                this.openNames.push(this.$route.meta.fuName)\r\n                this.$nextTick(() => {\r\n                    this.$refs.side_menu.updateOpened()\r\n                    this.$refs.side_menu.updateActiveName()\r\n                    this.saveState()\r\n                })\r\n                // document.title = this.$route.meta.title + ' - Hui Admin Pro'\r\n            },\r\n            // 监听路由数组改变\r\n            getRouterArrVuex(val) {\r\n                if (val.length < 1) {\r\n                    this.$router.push({\r\n                        name: this.$indexPage\r\n                    })\r\n                }\r\n                // 动态监听路由变化 自动滚动多页签导航\r\n                this.$nextTick(()=>{\r\n                  // 修复退出登录 页面报错\r\n                  if(document.getElementById('tabsNav')) {\r\n                    let zw = document.getElementById('tabsNav').offsetWidth // 总宽度\r\n                    let w = document.getElementById('tabsDiv').offsetWidth // 导航宽度\r\n                    if (w > zw) {\r\n                      let s = -(w - zw)\r\n                      this.transform = 'translateX(' + s + 'px)'\r\n                    } else {\r\n                      this.tabLeft()\r\n                    }\r\n                  }\r\n                })\r\n            }\r\n        },\r\n        filters: {}\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n    @import \"main\";\r\n</style>\r\n"]}]}